<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–≤–∞–¥–µ–±–Ω—ã–µ —Ñ–æ—Ç–æ –≥–æ—Å—Ç–µ–π</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 40px 20px;
            background: white;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #d63384;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1rem;
        }
        
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 12px 25px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background: #d63384;
            color: white;
            border-color: #d63384;
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .photo-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .photo-card:hover {
            transform: translateY(-10px);
        }
        
        .photo-img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        
        .photo-info {
            padding: 20px;
        }
        
        .guest-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }
        
        .photo-time {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .device {
            color: #666;
            font-size: 0.8rem;
            font-style: italic;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #888;
            font-size: 1.2rem;
            grid-column: 1 / -1;
        }
        
        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        .refresh-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            z-index: 100;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üíñ –°–≤–∞–¥–µ–±–Ω—ã–µ —Ñ–æ—Ç–æ –≥–æ—Å—Ç–µ–π</h1>
            <p class="subtitle">–í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–∞—à–µ–π —Å–≤–∞–¥—å–±–µ</p>
        </header>
        
        <div class="filters">
            <button class="filter-btn active" data-filter="all">–í—Å–µ —Ñ–æ—Ç–æ</button>
            <button class="filter-btn" data-filter="recent">–ü–æ—Å–ª–µ–¥–Ω–∏–µ</button>
            <button class="filter-btn" data-filter="named">–° –∏–º–µ–Ω–∞–º–∏</button>
        </div>
        
        <div class="gallery" id="photoGallery">
            <!-- –§–æ—Ç–æ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
            <div class="empty-state" id="emptyState">
                üì∏ –§–æ—Ç–æ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ—Å—Ç—è–º–∏
            </div>
        </div>
    </div>
    
    <button class="refresh-btn" onclick="loadPhotos()">üîÑ</button>

    <script>
        // –í–°–¢–ê–í–¨ –°–Æ–î–ê –°–í–û–ò –î–ê–ù–ù–´–ï
        const PHOTOS_DATA = [
            // –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã - —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
            // {
            //     id: 1,
            //     name: "–ê–Ω–Ω–∞ –∏ –ò–≤–∞–Ω",
            //     time: "15.01.2024, 14:30",
            //     photoUrl: "https://i.ibb.co/.../photo1.jpg",
            //     device: "iPhone Chrome",
            //     hasName: true
            // },
        ];
        
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ (–≤ –±—É–¥—É—â–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞)
        async function loadPhotos() {
            const gallery = document.getElementById('photoGallery');
            const emptyState = document.getElementById('emptyState');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            gallery.innerHTML = '<div class="empty-state">üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ...</div>';
            
            // –ó–¥–µ—Å—å –≤ –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
            // –ù–∞–ø—Ä–∏–º–µ—Ä: const response = await fetch('—Ç–≤–æ–π-api-url');
            // const PHOTOS_DATA = await response.json();
            
            // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –∏–∑ localStorage
            let photos = JSON.parse(localStorage.getItem('weddingPhotos') || '[]');
            
            if (photos.length === 0) {
                // –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                emptyState.style.display = 'block';
                gallery.innerHTML = `
                    <div class="empty-state">
                        <h3>–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –≤ –≥–∞–ª–µ—Ä–µ—é:</h3>
                        <p>1. –°–æ–∑–¥–∞–π Google –¢–∞–±–ª–∏—Ü—É –¥–ª—è —Ñ–æ—Ç–æ</p>
                        <p>2. –ù–∞—Å—Ç—Ä–æ–π FormSubmit –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –≤ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É</p>
                        <p>3. –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</p>
                        <p style="margin-top: 20px;">
                            <button onclick="showManualAdd()" style="padding: 10px 20px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –≤—Ä—É—á–Ω—É—é
                            </button>
                        </p>
                    </div>
                `;
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)
            photos.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ç–æ
            renderPhotos(photos);
            emptyState.style.display = 'none';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ñ–æ—Ç–æ
        function renderPhotos(photos) {
            const gallery = document.getElementById('photoGallery');
            gallery.innerHTML = '';
            
            photos.forEach(photo => {
                const photoCard = document.createElement('div');
                photoCard.className = 'photo-card';
                photoCard.dataset.name = photo.name.toLowerCase();
                photoCard.dataset.hasName = photo.name !== '–ê–Ω–æ–Ω–∏–º–Ω—ã–π –≥–æ—Å—Ç—å';
                
                photoCard.innerHTML = `
                    <img src="${photo.photoUrl}" alt="–§–æ—Ç–æ –æ—Ç ${photo.name}" class="photo-img" loading="lazy">
                    <div class="photo-info">
                        <div class="guest-name">${photo.name}</div>
                        <div class="photo-time">${photo.timestamp}</div>
                        <div class="device">${photo.device || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ'}</div>
                    </div>
                `;
                
                gallery.appendChild(photoCard);
            });
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // –ê–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
                const filter = this.dataset.filter;
                const cards = document.querySelectorAll('.photo-card');
                
                cards.forEach(card => {
                    switch(filter) {
                        case 'all':
                            card.style.display = 'block';
                            break;
                        case 'recent':
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20
                            const index = Array.from(cards).indexOf(card);
                            card.style.display = index < 20 ? 'block' : 'none';
                            break;
                        case 'named':
                            card.style.display = card.dataset.hasName === 'true' ? 'block' : 'none';
                            break;
                    }
                });
            });
        });
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ (–≤—Ä–µ–º–µ–Ω–Ω–∞—è)
        function showManualAdd() {
            const name = prompt('–ò–º—è –≥–æ—Å—Ç—è (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è "–ê–Ω–æ–Ω–∏–º–Ω—ã–π –≥–æ—Å—Ç—å"):');
            const url = prompt('–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ —Å ImgBB:');
            
            if (url) {
                const photos = JSON.parse(localStorage.getItem('weddingPhotos') || '[]');
                photos.push({
                    id: Date.now(),
                    name: name || '–ê–Ω–æ–Ω–∏–º–Ω—ã–π –≥–æ—Å—Ç—å',
                    timestamp: new Date().toLocaleString('ru-RU'),
                    photoUrl: url,
                    device: '–î–æ–±–∞–≤–ª–µ–Ω–æ –≤—Ä—É—á–Ω—É—é',
                    hasName: !!name
                });
                
                localStorage.setItem('weddingPhotos', JSON.stringify(photos));
                loadPhotos();
                alert('–§–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!');
            }
        }
        
        // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', loadPhotos);
        
        // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(loadPhotos, 30000);
    </script>
</body>
</html>
